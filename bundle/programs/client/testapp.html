
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="packages/webapp/css_detect.css?69b96d66a8b0ceba06977d1dbae5b6158efbd0bf">
    <link rel="stylesheet" href="app/test.css?9297ad4aa173c4e0c19aebd27c62a5c43242bb93">


    <script type='text/javascript'>__meteor_runtime_config__ = {"autoupdateVersion":"214dcfc85f331496674f24fd51f7a83c6f25c0cb"};</script>

    <script type="text/javascript" src="packages/underscore.js?0a80a8623e1b40b5df5a05582f288ddd586eaa18"></script>
    <script type="text/javascript" src="packages/meteor.js?9383a03e35061e224183c68ad742bb7ca8262e9b"></script>
    <script type="text/javascript" src="packages/json.js?e22856eae714c681199eabc5c0710b904b125554"></script>
    <script type="text/javascript" src="packages/ejson.js?6b96257c000bbb949b0e65eaacceeecba5bf84c6"></script>
    <script type="text/javascript" src="packages/logging.js?0b5bf4a50ca23ebf02c29f1243437e173a6b6c1a"></script>
    <script type="text/javascript" src="packages/reload.js?8495281f1e90298939d33611f64cb97609664269"></script>
    <script type="text/javascript" src="packages/deps.js?34f4906d0a01d1c2873bed712b3bd039da3c9bab"></script>
    <script type="text/javascript" src="packages/random.js?66f32d9674bbf319a47b2638439a6bf41565ebb9"></script>
    <script type="text/javascript" src="packages/retry.js?600c247d43fa232f08a615c29d2b6f4d9e25e125"></script>
    <script type="text/javascript" src="packages/check.js?a54cf3c7b3abe9208d064621eb80a3ecaf2f4add"></script>
    <script type="text/javascript" src="packages/ordered-dict.js?bf8af2f26c8d96bf8b2e6b407d3ed69f23c2cd37"></script>
    <script type="text/javascript" src="packages/geojson-utils.js?81b79d5cf96d00b4b7a28987debcffb665c17526"></script>
    <script type="text/javascript" src="packages/minimongo.js?cc3ce9a489c69badc41095301076ba2a65f7ee32"></script>
    <script type="text/javascript" src="packages/application-configuration.js?fa92020e10c808f1287070d009f69a4054676e5a"></script>
    <script type="text/javascript" src="packages/standard-app-packages.js?601dc02c741b437bbe8be03773a37f7d896a88e7"></script>
    <script type="text/javascript" src="packages/webapp.js?87383e62e7a152277571ae1a71f7f8198ebd7a8a"></script>
    <script type="text/javascript" src="packages/reactive-dict.js?22667928acc72f619ce81e7ac1e35def1ba9e0ae"></script>
    <script type="text/javascript" src="packages/session.js?5bcd2d86431dc10d5f4be0910cb6567342e1aaf6"></script>
    <script type="text/javascript" src="packages/jquery.js?5978a910eadb45ea575f412686b11169f992024b"></script>
    <script type="text/javascript" src="packages/observe-sequence.js?a9897998fa9e65b3bad6c80a147a06e3b05f0eaa"></script>
    <script type="text/javascript" src="packages/htmljs.js?9f120d9b73379b8d2e9df885740cb330fd6eb244"></script>
    <script type="text/javascript" src="packages/ui.js?5baf55ad8663a34f1ab3011566a91336f56d26ca"></script>
    <script type="text/javascript" src="packages/spacebars.js?dad2d487bcc43e537226e528539ce6389ad6ca4e"></script>
    <script type="text/javascript" src="packages/templating.js?50df2690cc171e5e336786cd849707a03f3f1da7"></script>
    <script type="text/javascript" src="packages/global-imports.js?d9df7325f9fa398985dccdaddf95293546c94483"></script>


    <script src="../../../vendor/meteor/packages/html-tools/parse.js"></script>
    <script src="../../../vendor/meteor/packages/templating/plugin/html_scanner.js"></script>

    <script src="../../../vendor/meteor/packages/html-tools/scanner.js"></script>
    <script src="../../../vendor/meteor/packages/html-tools/charref.js"></script>

    <script src="../../../vendor/meteor/packages/html-tools/tokenize.js"></script>
    <script src="../../../vendor/meteor/packages/html-tools/parse.js"></script>
    <script src="../../../vendor/meteor/packages/html-tools/exports.js"></script>

    <script src="../../../vendor/meteor/packages/spacebars-compiler/templatetag.js"></script>
    <script src="../../../vendor/meteor/packages/spacebars-compiler/tojs.js"></script>
    <script src="../../../vendor/meteor/packages/spacebars-compiler/tokens.js"></script>
    <script src="../../../vendor/meteor/packages/spacebars-compiler/spacebars-compiler.js"></script>

    <script type="html/template">
        <template name="test">
            foo = {{foo}}
        </template>
    </script>

    <script>
        Crater = {
            renderTemplate: function(templateName, elOrSelector) {
                var el = _.isString(elOrSelector) ? $(elOrSelector).get(0) : elOrSelector;
                el && UI.DomRange.insert(UI.render(Template[templateName]).dom, el);
            }
        }
    </script>

    <script>
        var bodyTemplate = '';
        $('script[type="html/template"]').each(function(idx, el) {
            el = $(el);
            var r = html_scanner.scan(el.html());
            r.js && eval(r.js);
        });

        Template.test.foo = function() {
            return Session.get('testing');
      };

        setTimeout(function() {
            Session.set('testing', 'THIS IS FOO AGAIN');
        },2000);

    </script>


    <title>test</title>
</head>
<body>
<h1>Body</h1>
    <div id="tempTemplate">

    </div>

    <script>
        Crater.renderTemplate('test', '#tempTemplate');
    </script>
</body>
</html>
