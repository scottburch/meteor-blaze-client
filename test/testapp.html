
<!DOCTYPE html>
<html>
<head>
    <script src="../meteor-blaze-client.js"></script>

    <script type="html/template">
        <template name="test">
            foo = {{foo}}
        </template>
    </script>

    <script>
        Crater = {
            renderTemplate: function(templateName, elOrSelector) {
                var el = _.isString(elOrSelector) ? $(elOrSelector).get(0) : elOrSelector;
                el && UI.DomRange.insert(UI.render(Template[templateName]).dom, el);
            }
        }
    </script>

    <script>
        var bodyTemplate = '';
        $('script[type="html/template"]').each(function(idx, el) {
            el = $(el);
            var r = html_scanner.scan(el.html());
            r.js && eval(r.js);
        });

        Template.test.foo = function() {
            return Session.get('testing');
      };

        setTimeout(function() {
            Session.set('testing', 'THIS IS FOO AGAIN');
        },2000);

    </script>


    <title>test</title>
</head>
<body>
<h1>Body</h1>
    <div id="tempTemplate">

    </div>

    <script>
        Crater.renderTemplate('test', '#tempTemplate');
    </script>
</body>
</html>
